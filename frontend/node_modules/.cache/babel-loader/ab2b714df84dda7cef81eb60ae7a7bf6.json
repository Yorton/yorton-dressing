{"ast":null,"code":"import Axios from \"axios\";\nimport { signin } from \"./userActions.js\";\nexport const payConfirm = (transactionId, userId) => async (dispatch, getState) => {\n  try {\n    const {\n      userData\n    } = await Axios.get(`/api/users/${userId}`);\n    debugger;\n    dispatch(signin(userData.email, userData.password));\n    debugger;\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n    const {\n      data\n    } = await Axios.get(`/api/linepay/confirm?transactionId=${transactionId}` // ,  \n    // {\n    //     headers:{\n    //         Authorization: `Bearer ${userInfo.token}`\n    //     }\n    // }\n    );\n    dispatch({\n      type: 'ORDER_PAY_CONFIRM',\n      payload: data\n    });\n  } catch (error) {// dispatch({\n    //     type: ORDER_CREATE_FAIL, \n    //     payload: error.response && error.response.data.message\n    //     ? error.response.data.message\n    //     : error.message});\n  }\n};","map":{"version":3,"sources":["C:/Users/User/OneDrive/桌面/react-redux-project/refer-to-basir/yorton-dressing/frontend/src/actions/payConfirmActions.js"],"names":["Axios","signin","payConfirm","transactionId","userId","dispatch","getState","userData","get","email","password","userSignin","userInfo","data","type","payload","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,kBAAvB;AAEA,OAAO,MAAMC,UAAU,GAAG,CAACC,aAAD,EAAgBC,MAAhB,KAA2B,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAE/E,MAAG;AAEC,UAAM;AAACC,MAAAA;AAAD,QAAa,MAAMP,KAAK,CAACQ,GAAN,CAAW,cAAaJ,MAAO,EAA/B,CAAzB;AACA;AAEAC,IAAAA,QAAQ,CAACJ,MAAM,CAACM,QAAQ,CAACE,KAAV,EAAiBF,QAAQ,CAACG,QAA1B,CAAP,CAAR;AACA;AACA,UAAM;AAACC,MAAAA,UAAU,EAAE;AAACC,QAAAA;AAAD;AAAb,QAA2BN,QAAQ,EAAzC;AAEA,UAAM;AAACO,MAAAA;AAAD,QAAS,MAAMb,KAAK,CAACQ,GAAN,CAAW,sCAAqCL,aAAc,EAA9D,CACW;AACA;AACA;AACA;AACA;AACA;AANX,KAArB;AASAE,IAAAA,QAAQ,CAAC;AAACS,MAAAA,IAAI,EAAE,mBAAP;AAA4BC,MAAAA,OAAO,EAAEF;AAArC,KAAD,CAAR;AAEH,GApBD,CAoBC,OAAMG,KAAN,EAAY,CACT;AACA;AACA;AACA;AACA;AACH;AAEJ,CA9BM","sourcesContent":["import Axios from \"axios\";\r\nimport { signin } from \"./userActions.js\";\r\n\r\nexport const payConfirm = (transactionId, userId) => async (dispatch, getState) => {\r\n\r\n    try{\r\n\r\n        const {userData} = await Axios.get(`/api/users/${userId}`);\r\n        debugger;\r\n\r\n        dispatch(signin(userData.email, userData.password));\r\n        debugger;\r\n        const {userSignin: {userInfo}} = getState();\r\n\r\n        const {data} = await Axios.get(`/api/linepay/confirm?transactionId=${transactionId}`\r\n                                        // ,  \r\n                                        // {\r\n                                        //     headers:{\r\n                                        //         Authorization: `Bearer ${userInfo.token}`\r\n                                        //     }\r\n                                        // }\r\n                                        );\r\n\r\n        dispatch({type: 'ORDER_PAY_CONFIRM', payload: data});\r\n\r\n    }catch(error){\r\n        // dispatch({\r\n        //     type: ORDER_CREATE_FAIL, \r\n        //     payload: error.response && error.response.data.message\r\n        //     ? error.response.data.message\r\n        //     : error.message});\r\n    }\r\n\r\n};"]},"metadata":{},"sourceType":"module"}